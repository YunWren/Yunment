import{d as j,an as D,p as d,h as P,L as O,q as T,c as t,o as a,n as U,ag as F,F as q,e as u,j as I,r as v,ao as E,K as _,k as K,b as h,Z as L,ap as Y,P as Z}from"./framework.CDCAl0iQ.js";import{_ as b}from"./Icon.vue_vue_type_script_setup_true_lang.DlKVnu5K.js";const se=Symbol("formContextKey"),G=Symbol("formItemContextKey"),H={key:0,class:"yun-input__prepend"},J={class:"yun-input__wrapper"},Q={key:0,class:"yun-input__prefix"},W=["type","disabled","readonly","autocomplete","placeholder","autofocus","form"],X=["disabled","readonly","autocomplete","placeholder","autofocus","form"],oe=j({name:"YInput",inheritAttrs:!1,__name:"Input",props:{type:{default:"text"},modelValue:{},size:{},disabled:{type:Boolean},clearable:{type:Boolean},showPassword:{type:Boolean},placeholder:{},readonly:{type:Boolean},autocomplete:{default:"off"},autofocus:{type:Boolean},form:{}},emits:["update:modelValue","input","change","focus","blur","clear"],setup(z,{expose:M,emit:A}){const l=z,o=A,k=D(),s=d(l.modelValue),p=d(!1),r=d(!1),i=d(),w=P(()=>l.clearable&&!l.disabled&&!!s.value&&p.value),c=O(G),f=e=>{c==null||c.validate(e).catch(n=>console.log(n.errors))},y=P(()=>l.showPassword&&!l.disabled&&!!s.value),V=()=>{r.value=!r.value},N=async()=>{await Z(),i.value.focus()},g=()=>{o("update:modelValue",s.value),o("input",s.value),f("input")},C=()=>{o("change",s.value),f("change")},$=e=>{p.value=!0,o("focus",e)},B=e=>{p.value=!1,o("blur",e),f("blur")},R=()=>{s.value="",o("update:modelValue",""),o("clear"),o("input",""),o("change","")},S=()=>{};return T(()=>l.modelValue,e=>{s.value=e}),M({ref:i}),(e,n)=>(a(),t("div",{class:U(["yun-input",{[`yun-input--${e.type}`]:e.type,[`yun-input--${e.size}`]:e.size,"is-disabled":e.disabled,"is-prepend":e.$slots.prepend,"is-append":e.$slots.append,"is-prefix":e.$slots.prefix,"is-suffix":e.$slots.suffix,"is-focus":p.value}])},[e.type!=="textarea"?(a(),t(q,{key:0},[e.$slots.prepend?(a(),t("div",H,[v(e.$slots,"prepend")])):u("",!0),I("div",J,[e.$slots.prefix?(a(),t("span",Q,[v(e.$slots,"prefix")])):u("",!0),F(I("input",_({ref_key:"inputRef",ref:i,class:"yun-input__inner"},K(k),{type:e.showPassword?r.value?"text":"password":e.type,disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,"onUpdate:modelValue":n[0]||(n[0]=m=>s.value=m),onChange:C,onInput:g,onFocus:$,onBlur:B}),null,16,W),[[E,s.value]]),e.$slots.suffix||w.value||y.value?(a(),t("span",{key:1,class:"yun-input__suffix",onClick:N},[v(e.$slots,"suffix"),w.value?(a(),h(b,{key:0,icon:"circle-xmark",class:"yun-input__clear",onClick:R,onMousedown:L(S,["prevent"])})):u("",!0),y.value&&r.value?(a(),h(b,{key:1,icon:"eye",class:"yun-input__password",onClick:V})):u("",!0),y.value&&!r.value?(a(),h(b,{key:2,icon:"eye-slash",class:"yun-input__password",onClick:V})):u("",!0)])):u("",!0)])],64)):F((a(),t("textarea",_({key:1,ref_key:"inputRef",ref:i,class:"yun-text__wrapper"},K(k),{disabled:e.disabled,"onUpdate:modelValue":n[1]||(n[1]=m=>s.value=m),readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,onChange:C,onInput:g,onFocus:$,onBlur:B}),null,16,X)),[[Y,s.value]])],2))}});export{oe as _,G as a,se as f};
